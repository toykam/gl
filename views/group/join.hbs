
<div class="ui content container" id="features">
    <h2 class="ui inverted header">Join a Room</h2>
    <br/>
    <div class="ui center aligned grid">
      {{!-- <div class="ui container">
        <form class="ui large form" method="POST" action="/chat/join">
            <div id="msg"></div>
            <div class="field">
                <div class="ui input">
                    <input name="name" placeholder="Your name" type="text"/>
                </div>
            </div>
            <br/>
            <div class="field">
                <div class="ui input">
                    <input name="room" placeholder="Room name" type="text"/>
                </div>
            </div>
            
            <br/>
            <button class="ui fluid large primary button" type="submit">
                Join Room
            </button>
            <br/>
            <div class="field">
                <div class="ui input">
                    Don't have an account? <a href="/auth/register">Register</a>
                </div>
            </div>
        </form>
      </div> --}}

      
        {{#if (ifEquals groupLength 0) }}
            <div class="ui center aligned container">
                <p>This place looks empty</p>
                <p>Want to see how beautiful it will look with some groups?</p>
                <button class="ui button tiny positive" id="createGroupButton">Create a group</button>
            </div>
        {{/if}}


        <div class="ui eight column centered grid">
            {{#each groups as | group | }}
                {{> one_group group=group public=true }}
            {{/each}}
        </div>

    </div>
</div>


<script>
    $(document).ready(() => {
        var userData = localStorage.getItem('userData')
        userData = JSON.parse(userData)
        console.log("UserToJoin ::: ", userData);
        $(".JoinGroup").click(e => {
            if (!userData) {
                swal('You cannot join a group until you are logged in')
                return;
            }
            var groupId = e.target.attributes.group_id.value
            window.location.assign(`/chat/join/${groupId}`)
        })
    })
</script>